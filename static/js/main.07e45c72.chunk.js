(this["webpackJsonprtk-github-issues-example-01-plain-react"]=this["webpackJsonprtk-github-issues-example-01-plain-react"]||[]).push([[0],{10:function(e,t,a){"use strict";a.d(t,"c",(function(){return p})),a.d(t,"d",(function(){return d})),a.d(t,"b",(function(){return b})),a.d(t,"a",(function(){return _}));var n=a(1),s=a.n(n),r=a(6),u=a(19),c=a.n(u),o=a(57),i=a.n(o),l=function(){return{headers:{Authorization:"token ".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/rtk-github-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_GH_API_TOKEN)}}},m=function(e){return e?function(e){return 2===Object.keys(e).length&&e.first&&e.prev}(e)?parseInt(e.prev.page,10)+1:e.last?parseInt(e.last.page,10):0:0};function p(e,t){return g.apply(this,arguments)}function g(){return(g=Object(r.a)(s.a.mark((function e(t,a){var n,r,u,o,p,g=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=g.length>2&&void 0!==g[2]?g[2]:1,r="https://api.github.com/repos/".concat(t,"/").concat(a,"/issues?per_page=25&page=").concat(n),e.prev=2,e.next=5,c.a.get(r,l());case 5:return u=e.sent,o=0,null!==(p=i()(u.headers.link))&&(o=m(p)),e.abrupt("return",{pageLinks:p,pageCount:o,issues:u.data});case 12:throw e.prev=12,e.t0=e.catch(2),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function d(e,t){return f.apply(this,arguments)}function f(){return(f=Object(r.a)(s.a.mark((function e(t,a){var n,r,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.github.com/repos/".concat(t,"/").concat(a),e.next=3,c.a.get(n,l());case 3:return r=e.sent,u=r.data,e.abrupt("return",u);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t,a){return v.apply(this,arguments)}function v(){return(v=Object(r.a)(s.a.mark((function e(t,a,n){var r,u,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://api.github.com/repos/".concat(t,"/").concat(a,"/issues/").concat(n),e.next=3,c.a.get(r,l());case 3:return u=e.sent,o=u.data,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return h.apply(this,arguments)}function h(){return(h=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.get(t,l());case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},100:function(e,t,a){},11:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"d",(function(){return c})),a.d(t,"c",(function(){return o}));var n=a(7),s=Object(n.b)({name:"issuesDisplay",initialState:{org:"rails",repo:"rails",page:1,displayType:"issues",issueId:null},reducers:{displayRepo:function(e,t){var a=t.payload,n=a.org,s=a.repo;e.org=n,e.repo=s},setCurrentPage:function(e,t){e.page=t.payload},setCurrentDisplayType:function(e,t){var a=t.payload,n=a.displayType,s=a.issueId,r=void 0===s?null:s;e.displayType=n,e.issueId=r}}}),r=s.actions,u=r.displayRepo,c=r.setCurrentPage,o=r.setCurrentDisplayType;t.a=s.reducer},13:function(e,t,a){"use strict";a.d(t,"c",(function(){return _})),a.d(t,"b",(function(){return h}));var n=a(1),s=a.n(n),r=a(6),u=a(7),c=a(10);function o(e){e.isLoading=!0}function i(e,t){e.isLoading=!1,e.error=t.payload}var l=Object(u.b)({name:"issues",initialState:{issuesByNumber:{},currentPageIssues:[],pageCount:0,pageLinks:null,isLoading:!1,error:null},reducers:{getIssueStart:o,getIssuesStart:o,getIssueSuccess:function(e,t){var a=t.payload,n=a.number;e.issuesByNumber[n]=a,e.isLoading=!1,e.error=null},getIssuesSuccess:function(e,t){var a=t.payload,n=a.pageCount,s=a.issues,r=a.pageLinks;e.pageCount=n,e.pageLinks=r,e.isLoading=!1,e.error=null,s.forEach((function(t){e.issuesByNumber[t.number]=t})),e.currentPageIssues=s.map((function(e){return e.number}))},getIssueFailure:i,getIssuesFailure:i}}),m=l.actions,p=m.getIssueStart,g=m.getIssuesStart,d=m.getIssueSuccess,f=m.getIssuesSuccess,b=m.getIssueFailure,v=m.getIssuesFailure;t.a=l.reducer;var _=function(e,t,a){return function(){var n=Object(r.a)(s.a.mark((function n(r){var u;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(g()),n.next=4,Object(c.c)(e,t,a);case 4:u=n.sent,r(f(u)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),r(v(n.t0.toString()));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},h=function(e,t,a){return function(){var n=Object(r.a)(s.a.mark((function n(r){var u;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(p()),n.next=4,Object(c.b)(e,t,a);case 4:u=n.sent,r(d(u)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),r(b(n.t0.toString()));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}},14:function(e,t,a){e.exports={issueUser:"UserWithAvatar_issueUser__1rZ56",avatar:"UserWithAvatar_avatar__2b4Ue",username:"UserWithAvatar_username__DZB8Q",vertical:"UserWithAvatar_vertical__3VEes",horizontal:"UserWithAvatar_horizontal__3DPD3"}},15:function(e,t,a){e.exports={comment:"IssueComments_comment__2K-P3",body:"IssueComments_body__26Hu9",avatar:"IssueComments_avatar__1IClw",username:"IssueComments_username__3CX3Q",commentsList:"IssueComments_commentsList__1rPMM"}},16:function(e,t,a){e.exports={issueDetailsPage:"IssueDetailsPage_issueDetailsPage__2L9pw",issueLabels:"IssueDetailsPage_issueLabels__2xoOq",summary:"IssueDetailsPage_summary__3WqKZ",divider:"IssueDetailsPage_divider__2tP7Z"}},180:function(e,t,a){},181:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(3),u=(a(94),a(29)),c=(a(95),a(96),function(e){var t=e.org,a=e.repo,r=e.setOrgAndRepo,c=e.setJumpToPage,o=Object(n.useState)(t),i=Object(u.a)(o,2),l=i[0],m=i[1],p=Object(n.useState)(a),g=Object(u.a)(p,2),d=g[0],f=g[1],b=Object(n.useState)("1"),v=Object(u.a)(b,2),_=v[0],h=v[1];return s.a.createElement("form",{className:"pure-form"},s.a.createElement("div",null,s.a.createElement("label",{htmlFor:"org",style:{marginRight:5}},"Org:"),s.a.createElement("input",{name:"org",value:l,onChange:function(e){m(e.target.value)}}),s.a.createElement("label",{htmlFor:"repo",style:{marginRight:5,marginLeft:10}},"Repo:"),s.a.createElement("input",{name:"repo",value:d,onChange:function(e){f(e.target.value)}}),s.a.createElement("button",{type:"button",className:"pure-button pure-button-primary",style:{marginLeft:5},onClick:function(){r(l,d)}},"Load Repo")),s.a.createElement("div",{style:{marginTop:5}},s.a.createElement("label",{htmlFor:"jumpToPage",style:{marginRight:5}},"Issues Page:"),s.a.createElement("input",{name:"jumpToPage",value:_,onChange:function(e){h(e.target.value)}}),s.a.createElement("button",{type:"button",className:"pure-button pure-button-primary",style:{marginLeft:5},onClick:function(){var e=parseInt(_);e>=1&&c(e)}},"Jump to Page")))}),o=a(26);function i(e){var t=e.org,a=e.repo;return s.a.createElement("span",null,s.a.createElement("a",{href:"https://github.com/".concat(t),className:"header__org"},t)," / ",s.a.createElement("a",{href:"https://github.com/".concat(t,"/").concat(a),className:"header__repo"},a))}function l(e){var t=e.openIssuesCount,a=void 0===t?-1:t,n=e.org,r=e.repo;if(-1===a)return s.a.createElement("h1",null,"Open issues for ",s.a.createElement(i,{org:n,repo:r}));var u=1===a?"issue":"issues";return s.a.createElement("h1",null,s.a.createElement("span",{className:"header__openIssues"},a)," open"," ",u," for ",s.a.createElement(i,{org:n,repo:r}))}function m(e){return e.replace(/\B(@([a-zA-Z0-9](-?[a-zA-Z0-9_])+))/g,"**[$1](https://github.com/$2)**")}var p=a(2),g=a.n(p),d=function(e){var t=e.labels,a=e.className;return s.a.createElement("div",{className:g()("issue__labels",a)},t.map((function(e){return s.a.createElement("span",{key:e.id,className:"issue__label",style:{boxShadow:"0 0 2px #".concat(e.color),borderColor:"#".concat(e.color)}},e.name)})))},f=a(18),b=a(14),v=a.n(b),_=function(e){var t,a=e.user,n=e.orientation,r=void 0===n?"vertical":n,u=e.link,c=void 0===u||u,o=e.classes,i=void 0===o?{}:o,l=g()(v.a.issueUser,(t={},Object(f.a)(t,v.a.vertical,"vertical"===r),Object(f.a)(t,v.a.horizontal,"horizontal"===r),t)),m=g()(v.a.avatar,i.avatar),p=g()(v.a.username,i.username),d=s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{className:m,src:a.avatar_url,alt:""}),s.a.createElement("div",{className:p},a.login));return c?s.a.createElement("a",{href:"https://github.com/".concat(a.login),className:l},d):s.a.createElement("span",{className:l},d)},h=a(20),E=a.n(h),y=function(e){var t=e.number,a=e.title,n=e.labels,r=e.user,u=e.comments,c=e.body,o=void 0===c?"":c,i=e.showIssueComments,l=1===u?"comment":"comments";return s.a.createElement("div",{className:E.a.issue},s.a.createElement(_,{user:r}),s.a.createElement("div",{className:"issue__body"},s.a.createElement("a",{href:"#comments",onClick:function(e){e.preventDefault(),e.stopPropagation(),i(t)}},s.a.createElement("span",{className:E.a.number},"#",t),s.a.createElement("span",{className:E.a.title},a)),s.a.createElement("br",null)," (",u," ",l,")",s.a.createElement("p",{className:"issue__summary"},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:140,a=e.replace(/\\r\\n/g,"\n");if(a.length<=t)return a;var n=" ...",s=a.substr(0,141);if(/\W$/.test(s))return s.substr(0,140)+n;for(var r=s.length;--r;)if(/\W/.test(s[r]))return s.substr(0,r)+n;return s.substr(0,140)+n}(o)),s.a.createElement(d,{labels:n,className:E.a.label})))},I=a(58),O=a.n(I),C=function(e){var t=e.issues,a=e.showIssueComments,n=t.map((function(e){return s.a.createElement("li",{key:e.id},s.a.createElement(y,Object.assign({},e,{showIssueComments:a})))}));return s.a.createElement("ul",{className:O.a.issuesList},n)},j=a(59),N=a.n(j),L=a(60),P=a.n(L),S=(a(100),function(e){var t=e.currentPage,a=e.pageCount,n=e.onPageChange;return s.a.createElement("div",{className:g()("issuesPagination",P.a.pagination)},s.a.createElement(N.a,{forcePage:t,pageCount:a,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:n,nextLabel:"\u2192",previousLabel:"\u2190"}))}),w=a(13),k=function(e){var t=e.org,a=e.repo,u=e.page,c=void 0===u?1:u,i=e.setJumpToPage,m=e.showIssueComments,p=Object(r.c)(),g=Object(r.d)((function(e){return e.repoDetails.openIssuesCount})),d=Object(r.d)((function(e){return e.issues})),f=d.currentPageIssues,b=d.isLoading,v=d.error,_=d.issuesByNumber,h=d.pageCount,E=f.map((function(e){return _[e]}));if(Object(n.useEffect)((function(){p(Object(w.c)(t,a,c)),p(Object(o.b)(t,a))}),[t,a,c,p]),v)return s.a.createElement("div",null,s.a.createElement("h1",null,"Something went wrong..."),s.a.createElement("div",null,v.toString()));var y=Math.min(h,Math.max(c,1))-1,I=b?s.a.createElement("h3",null,"Loading..."):s.a.createElement(C,{issues:E,showIssueComments:m});return s.a.createElement("div",{id:"issue-list-page"},s.a.createElement(l,{openIssuesCount:g,org:t,repo:a}),I,s.a.createElement(S,{currentPage:y,pageCount:h,onPageChange:function(e){var t=e.selected+1;i(t)}}))},x=a(28),D=a.n(x),T=a(27),R=a(21),A=a.n(R),F=function(e){var t=e.issue.state;return s.a.createElement("span",{className:g()("issue-detail__state",A.a.issueState,Object(f.a)({},A.a.open,"open"===t))},t)},B=function(e){var t=e.issue;return s.a.createElement("span",{className:g()("issue-detail__number",A.a.number)},"#",t.number)},U=function(e){var t=e.issue;return s.a.createElement("div",{className:g()("issue-detail__meta",A.a.meta)},s.a.createElement(B,{issue:t}),s.a.createElement(F,{issue:t}),s.a.createElement(_,{user:t.user,orientation:"horizontal"}))},W=a(15),z=a.n(W);function K(e){var t=e.comment;return s.a.createElement("div",{className:z.a.comment},s.a.createElement(_,{user:t.user,classes:{avatar:z.a.avatar,username:z.a.username},orientation:"horizontal"}),s.a.createElement("div",{className:z.a.body},s.a.createElement(D.a,{className:"markdown",source:m(t.body)})))}function M(e){var t=e.comments,a=void 0===t?[]:t;return 0===e.issue.comments?s.a.createElement("div",{className:"issue-detail--no-comments"},"No comments"):a&&0!==a.length?s.a.createElement("ul",{className:z.a.commentsList},a.map((function(e){return s.a.createElement("li",{key:e.id},s.a.createElement(K,{comment:e}))}))):s.a.createElement("div",{className:"issue-detail--comments-loading"},"Comments loading...")}var Z=a(16),J=a.n(Z),H=(a(180),function(e){var t,a=e.org,u=e.repo,c=e.issueId,o=e.showIssuesList,i=Object(r.c)(),l=Object(r.d)((function(e){return e.issues.issuesByNumber[c]})),p=Object(r.d)((function(e){return{commentsLoading:e.comments.loading,commentsError:e.comments.error,comments:e.comments.commentsByIssue[c]}}),r.b),f=p.commentsLoading,b=p.commentsError,v=p.comments;Object(n.useEffect)((function(){l||i(Object(w.b)(a,u,c)),window.scrollTo({top:0})}),[a,u,c,i,l]),Object(n.useEffect)((function(){l&&i(Object(T.b)(l))}),[i,l]);var _,h=s.a.createElement("button",{className:"pure-button",onClick:o},"Back to Issues List");null===l?t=s.a.createElement("div",{className:"issue-detail--loading"},h,s.a.createElement("p",null,"Loading issue #",c,"...")):(v?_=s.a.createElement(M,{issue:l,comments:v}):f?_=s.a.createElement("div",{className:"issue-detail--loading"},s.a.createElement("p",null,"Loading comments...")):b&&(_=s.a.createElement("div",{className:"issue-detail--error"},s.a.createElement("h1",null,"Could not load comments for issue #",c),s.a.createElement("p",null,b.toString()))),t=s.a.createElement("div",{className:g()("issueDetailsPage",J.a.issueDetailsPage)},s.a.createElement("h1",{className:"issue-detail__title"},l.title),h,s.a.createElement(U,{issue:l}),s.a.createElement(d,{labels:l.labels,className:J.a.issueLabels}),s.a.createElement("hr",{className:J.a.divider}),s.a.createElement("div",{className:J.a.summary},s.a.createElement(D.a,{className:"testing",source:m(l.body)})),s.a.createElement("hr",{className:J.a.divider}),s.a.createElement("ul",null,_)));return s.a.createElement("div",null,t)}),V=a(11);t.default=function(){var e,t=Object(r.c)(),a=Object(r.d)((function(e){return e.issuesDisplay})),n=a.org,u=a.repo,o=a.displayType,i=a.page,l=a.issueId,m=function(e){t(Object(V.d)(e))};if("issues"===o)e=s.a.createElement(s.a.Fragment,null,s.a.createElement(c,{org:n,repo:u,setOrgAndRepo:function(e,a){t(Object(V.b)({org:e,repo:a}))},setJumpToPage:m}),s.a.createElement(k,{org:n,repo:u,page:i,setJumpToPage:m,showIssueComments:function(e){t(Object(V.c)({displayType:"comments",issueId:e}))}}));else if(null!==l){var p="".concat(n,"/").concat(u,"/").concat(l);e=s.a.createElement(H,{key:p,org:n,repo:u,issueId:l,showIssuesList:function(){t(Object(V.c)({displayType:"issues"}))}})}return s.a.createElement("div",{className:"App"},e)}},182:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(24),u=a.n(r),c=a(3),o=a(7),i=a(8),l=a(11),m=a(13),p=a(26),g=a(27),d=Object(i.c)({issuesDisplay:l.a,issues:m.a,comments:g.a,repoDetails:p.a});var f=Object(o.a)({reducer:d});a(93);!function(){var e=a(181).default;u.a.render(s.a.createElement(c.a,{store:f},s.a.createElement(e,null)),document.getElementById("root"))}()},20:function(e,t,a){e.exports={issue:"IssueListItem_issue__2Yp8T",number:"IssueListItem_number___KKiF",title:"IssueListItem_title__1l-Lb",label:"IssueListItem_label__319aw"}},21:function(e,t,a){e.exports={issueState:"IssueMeta_issueState__39S-8",open:"IssueMeta_open__1dZwy",number:"IssueMeta_number__1Exec",meta:"IssueMeta_meta__V0kVE"}},26:function(e,t,a){"use strict";a.d(t,"b",(function(){return p}));var n=a(1),s=a.n(n),r=a(6),u=a(7),c=a(10),o=Object(u.b)({name:"repoDetails",initialState:{openIssuesCount:-1,error:null},reducers:{getRepoDetailsSuccess:function(e,t){e.openIssuesCount=t.payload.open_issues_count,e.error=null},getRepoDetailsFailed:function(e,t){e.openIssuesCount=-1,e.error=t.payload}}}),i=o.actions,l=i.getRepoDetailsSuccess,m=i.getRepoDetailsFailed;t.a=o.reducer;var p=function(e,t){return function(){var a=Object(r.a)(s.a.mark((function a(n){var r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(c.d)(e,t);case 3:r=a.sent,n(l(r)),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),n(m(a.t0.toString()));case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}},27:function(e,t,a){"use strict";a.d(t,"b",(function(){return g}));var n=a(1),s=a.n(n),r=a(6),u=a(7),c=a(10),o=Object(u.b)({name:"comments",initialState:{commentsByIssue:{},loading:!1,error:null},reducers:{getCommentsStart:function(e){e.loading=!0},getCommentsSuccess:function(e,t){var a=t.payload;e.loading=!1,e.error=null,e.commentsByIssue[a.issueId]=a.comments},getCommentsFailure:function(e,t){var a=t.payload;e.loading=!1,e.error=a}}}),i=o.actions,l=i.getCommentsStart,m=i.getCommentsSuccess,p=i.getCommentsFailure;t.a=o.reducer;var g=function(e){return function(){var t=Object(r.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(l()),t.next=4,Object(c.a)(e.comments_url);case 4:n=t.sent,a(m({issueId:e.number,comments:n})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(p(t.t0.toString()));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}},58:function(e,t,a){e.exports={issuesList:"IssuesList_issuesList__3YTSL"}},60:function(e,t,a){e.exports={pagination:"IssuePagination_pagination__1fZ4j"}},61:function(e,t,a){e.exports=a(182)},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){}},[[61,1,2]]]);
//# sourceMappingURL=main.07e45c72.chunk.js.map